<h3 class="text-center">Create Itinerary</h3>
<div ng-controller="itineraryhomeController">
<div class="well col-lg-6 col-md-6 col-sm-12 col-xs-12 col-lg-offset-3 col-md-offset-3"
     style="margin-top:20px;" >


  <form class="form-horizontal" name="myForm">

    <div class="form-group">
      <label class="col-sm-3 control-label">Title:<span style="color:red">*</span></label>
      <div class="col-sm-8">
      <textarea class="form-control" rows="1" ng-model="itineraryhomeController.title"
                placeholder="Description"></textarea>
      </div>
    </div>

    <div class="form-group">
      <label class="col-sm-3 control-label">Agent:<span style="color:red">*</span></label>

      <div class="col-sm-8">
        <!--<select class="form-control" ng-model="itineraryhomeController.agent"-->
                <!--ng-options="item.id as item.name for item in agents">-->
          <!--<option value="">Select Agent</option>-->
        <!--</select>-->

        <div
          isteven-multi-select
          input-model="agents"
          output-model="itineraryhomeController.agent"
          button-label="name"
          item-label="name"
          tick-property="selected"
          output-properties="id"
          max-height="300px"
          selection-mode="single"
        >


      </div>
      </div>
      </div>

    <div class="form-group" ng-class="{ 'has-error' : myForm.hotelName.$invalid && !myForm.hotelName.$pristine }">
      <label class="col-sm-3 control-label">Days:<span style="color:red">*</span></label>

      <div class="col-sm-8">
        <input type="number" class="form-control mod" min="1" name="days"
               ng-model="itineraryhomeController.days" placeholder="Days" ng-disabled="isEdit === true" required>
      </div>
    </div>

    <div class="form-group" ng-class="{ 'has-error' : myForm.city.$invalid && !myForm.city.$pristine }">
      <label class="col-sm-3 control-label">Nights:<span style="color:red">*</span></label>

      <div class="col-sm-8">
        <input type="number" class="form-control mod" min="1"
               name="nights" ng-model="itineraryhomeController.nights" placeholder="Nights" ng-disabled="isEdit === true" required>
      </div>
    </div>

    <div class="form-group" ng-repeat="city in addedCities" style="PADDING-TOP: 10px;position: relative;z-index: 25">
    <form class="form-horizontal" role="form" >
      <div class="col-lg-2">
        </div>
        <div class="col-lg-3">
          <select ng-disabled="isEdit === true" style="float: left;position: relative;z-index: 25" class="col-sm-3 form-control" ng-model="itineraryhomeController.country[$index]"
                  ng-options="item.id as item.country for item in countries[$index]" ng-change="getActiveStatesByCountries($index)">
            <option value="">Select Country</option>
          </select>
        </div>

        <div class="col-lg-3">
          <select ng-disabled="isEdit === true" style="float: left;position: relative;z-index: 25" class="col-sm-3 form-control" ng-model="itineraryhomeController.state[$index]"
                  ng-options="item.id as item.state for item in states[$index]" ng-change="getActiveCitiesByStates($index)">
            <option value="">Select State</option>
          </select>
        </div>

        <div class="col-lg-3">
          <select  ng-disabled="isEdit === true" style="float: left;position: relative;z-index: 25" class="col-sm-3 form-control" ng-model="itineraryhomeController.city[$index]"
                  ng-options="item.id as item.city for item in cities[$index]" ng-change="setCity($index)">
            <option value="">Select City</option>
          </select>
        </div>

      <div  class="col-lg-1">

              <span  ng-show="(addedCities.length > 1) && (isEdit === false)" ng-click="deleteaddcity($index)">
                <a><span style="font-size:20px;cursor: pointer;" class="glyphicon glyphicon-remove-circle"></span></a>
              </span>
      </div>

    </form>
    </div>

    <button class="btn btn-success col-lg-offset-4 col-md-offset-4 col-sm-offset-4"
            ng-disabled="isEdit === true"   ng-click="addCity();"> &nbsp {{addCityButtonText}} &nbsp
    </button>

    <!--<div class="form-group" ng-class="{ 'has-error' : myForm.city.$invalid && !myForm.city.$pristine }">-->
      <!--<label class="col-sm-3 control-label">City:</label>-->

      <!--<div class="col-sm-8">-->
        <!--<select class="form-control" ng-model="itineraryhomeController.city"-->
                <!--ng-options="item.id as item.city for item in cities" multiple required>-->
          <!--<option value="">Select City</option>-->
        <!--</select>-->
      <!--</div>-->
    <!--</div>-->

  </form>

  <button class="btn btn-success col-lg-offset-4 col-md-offset-4 col-sm-offset-4" style="float:right;"
          ng-show="isEdit === true"   ng-click="discardchanges()"> &nbsp Create New &nbsp
  </button>



</div>
  <div class="form-group">
    <button class="btn btn-success col-lg-offset-10 col-md-offset-3 col-sm-offset-3"
          ng-disabled="!itineraryhomeController.days  || !itineraryhomeController.nights
          || (itineraryhomeController.title === '') || (itineraryhomeController.title === null) || !itineraryhomeController.agent
          || (itineraryhomeController.agent.length === 0) || (itineraryhomeController.agent === null) || checkcities() || checkdaynights()"
            ng-click="redirect();">&nbsp Next <span class="glyphicon glyphicon-chevron-right"></span>&nbsp
    </button>
  </div>
</div>

