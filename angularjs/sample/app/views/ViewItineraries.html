<div class="col-lg-12 col-md-12" ng-controller="viewItineraryController">
  <h3 class="text-center">Itineraries</h3>

  <button style="position:relative;z-index:10;" class="btn btn-success" ng-click="editItinerary('new');toggleModal();">
    <span class="glyphicon glyphicon-"></span> Create New Itinerary
  </button>
  <div style="position:relative;z-index:20" class="form-group pull-right">
    <!--<label >Search</label>-->
    <input type="text" ng-model="searchValue" class="form-control" placeholder="Search">
  </div>
  </br></br>
  <div style="position:relative;z-index:10;" class="table-responsive">
    <table class="table table-striped table-bordered">
      <thead><tr>
        <th ng-click="sort('id')">Itinerary Id
          <span class="glyphicon sort-icon" ng-show="sortKey=='id'"
                ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
        </th>
        <th ng-click="sort('title')">Title
          <span class="glyphicon sort-icon" ng-show="sortKey=='title'"
                ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
        </th>
        <th ng-click="sort('agent_id')">Agent Id
          <span class="glyphicon sort-icon" ng-show="sortKey=='agent_id'"
                ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
        </th>
        <th ng-click="sort('nod')">Days
          <span class="glyphicon sort-icon" ng-show="sortKey=='nod'"
                ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
        </th>
        <th ng-click="sort('non')">Nights
          <span class="glyphicon sort-icon" ng-show="sortKey=='non'"
                ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
        </th>
        <!--<th>Itinerary Id</th>-->
        <!--<th>Title</th>-->
        <!--<th>Agent Id</th>-->
        <!--<th>Days</th>-->
        <!--<th>Nights</th>-->
        <th>Status</th>
        <th>Edit</th>
      </tr></thead>
      <tbody>

      <tr dir-paginate="itinerary in itineraries |orderBy:sortKey:reverse|filter:searchValue|itemsPerPage:50">

      <!--<tr ng-repeat="itinerary in itineraries">-->

        <td>{{ itinerary.id }}</td>
        <td><a ng-click="showitinerary(itinerary.id)">{{ itinerary.title }}</a></td>
        <td>{{ itinerary.agent_id }}</td>
        <td>{{ itinerary.nod }}</td>
        <td>{{ itinerary.non }}</td>

        <td class="text-center">
          <button class="btn btn-success btn-sm statusBtn" ng-show="itinerary.active" ng-click="statusItinerary(itinerary.sequence)" >
            Active
          </button>
          <button class="btn btn-danger btn-sm statusBtn" ng-hide="itinerary.active" ng-click="statusItinerary(itinerary.sequence)" >
            Deactive
          </button>
        </td>

        <td>
          <button class="btn" ng-click="editItinerary(itinerary.id);">
            <span class="glyphicon glyphicon-pencil"></span>&nbsp;&nbsp;Edit
          </button>
        </td>
      </tr></tbody>
    </table>
    <dir-pagination-controls
      max-size="20"
      direction-links="true"
      boundary-links="true">
    </dir-pagination-controls>
  </div>  <!-- End table-responsive -->

  <button style="position:relative;z-index:10;" class="btn btn-success" ng-click="getMoreItineraries();">
    <span class="glyphicon glyphicon-"></span> Get More
  </button>


  <modal title="" dikhao="viewshowModal1" class="container-fluid">

    <div class="row">
      <div class="col-sm-1"></div>
      <div class="col-sm-10">


        <!--<h3 align="center">Itinerary Details</h3>-->









        <h4 align="center">{{viewItineraryController.alldetails.name}}</h4>

        <div class="well" ng-repeat="day in viewItineraryController.alldetails.days">
          <h4 align="center">Day : {{$index+1}}</h4>


          <h4 align="center">
            CityId: {{day.cityId}}
          </h4>

          <table class="table table-striped table-bordered">
            <tbody>
            <tr>
              <td  class="col-sm-4">Breakfast: {{day.breakfast}}</td>
              <td  class="col-sm-4">Lunch: {{day.lunch}}</td>
              <td  class="col-sm-4">Dinner: {{day.dinner}}</td>
            </tr>
            </tbody>

          </table>

          <div class="row" ng-repeat="x in day.activities">
            <div class="col-sm-1"></div>


            <div class="col-sm-10">
              <h4>{{x.type}} : {{x.name}} </h4>

              <table class="table table-striped table-bordered">
                <tbody>
                <tr>
                  <td class="col-sm-6">Start time: {{x.starttime}} </td>
                  <td class="col-sm-6">End time: {{x.endtime}}</td>


                </tr>
                </tbody>

              </table>


            </div>
          </div>

        </div>
        <div class="well">
          <h4 align="center">Hotel Details</h4>

          <div class="row" ng-repeat="x in viewItineraryController.alldetails.hoteldetails">
            <div class="col-sm-1"></div>


            <div class="col-sm-10">
              <h4>City : {{x.cityName}}</h4>

              <table class="table table-striped table-bordered">
                <tbody>
                <tr>
                  <td class="col-sm-6">Hotel Id: {{x.hotelid}}</td>
                  <td class="col-sm-6">Hotel name: {{x.hotelname}}</td>


                </tr>
                </tbody>

              </table>


            </div>
          </div>


        </div>


        <div class="well">
          <h4>Other Information</h4>

          <table class="table table-striped table-bordered">
            <tbody>
            <tr>
              <td class="  col-sm-6">Information:</td>
              <td class="  col-sm-6">{{viewItineraryController.alldetails.info}}</td>
            </tr>
            <tr>
              <td class="  col-sm-6">Description:</td>
              <td class="  col-sm-6">{{viewItineraryController.alldetails.desc}}</td>
            </tr>
            <tr>
              <td class="  col-sm-6">Inclusions:</td>
              <td class="  col-sm-6">{{viewItineraryController.alldetails.inc}}</td>
            </tr>
            <tr>
              <td class="  col-sm-6">Exclusions:</td>
              <td class="  col-sm-6">{{viewItineraryController.alldetails.exc}}</td>
            </tr>
            <tr>
              <td class="  col-sm-6">Terms and Conditions:</td>
              <td class="  col-sm-6">{{viewItineraryController.alldetails.tnc}}</td>
            </tr>
            </tbody>

          </table>


        </div>

      </div>
      <div class="col-sm-12">


        <button type="button" class="btn btn-success"  style="float:right;" ng-click="viewitinerarymodal1()">OK</button>

      </div>

    </div>


  </modal>



</div>
