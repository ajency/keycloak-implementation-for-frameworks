<div class="col-lg-12 col-md-12" ng-controller="hotelController">
  <h3 class="text-center">Hotel</h3>

  <button  style="position:relative;z-index:20"  class="btn btn-success" ng-click="editHotel('new');toggleModal();">
    <span class="fa fa-bed"></span> Create New Hotel
  </button>

  <form style="position:relative;z-index:25"  class="form-inline pull-right" role="form">
    <div class="form-group">
      <select class="form-control" ng-model="hotelController.scountry"
              ng-options="item.id as item.country for item in countries" ng-change="getActiveStatesByCountries(0)">
        <option value="">Select Country</option>
      </select>
      <select class="form-control" ng-model="hotelController.sstate"
              ng-options="item.id as item.state for item in sstates" ng-change="getActiveCitiesByStates(0)">
        <option value="">Select State</option>
      </select>
      <select class="form-control" ng-model="hotelController.scity"
              ng-options="item.id as item.city for item in scities" ng-change="getHotels(0)">
        <option value="">Select City</option>
      </select>
    </div>
    <div class="form-group">
      <!--<label >Search</label>-->
      <input type="text" ng-model="searchValue" class="form-control" placeholder="Search">
    </div>
  </form>


  <!--<div class="input-group pull-right col-md-3 col-sm-4 col-xs-5">-->
  <!--<input type="text" class="form-control" name="search" ng-model="search" placeholder="Search by name, city, star">-->
  <!--<span class="input-group-addon search" ng-click="searchEmployee()"><span class="glyphicon glyphicon-search"></span> </span>-->
  <!--</div>-->

  </br></br>
  <div style="position:relative;z-index:20"  class="table-responsive">
    <table class="table table-striped table-bordered">
      <thead>
      <tr>
        <th ng-click="sort('id')">Hotel Id
          <span class="glyphicon sort-icon" ng-show="sortKey=='id'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
        </th>
        <th ng-click="sort('name')">Name
          <span class="glyphicon sort-icon" ng-show="sortKey=='name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
        </th>
        <th ng-click="sort('address')">Address
          <span class="glyphicon sort-icon" ng-show="sortKey=='address'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
        </th>
        <th ng-click="sort('city')">City
          <span class="glyphicon sort-icon" ng-show="sortKey=='city'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
        </th>
        <th ng-click="sort('star')">Star Rating
          <span class="glyphicon sort-icon" ng-show="sortKey=='star'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
        </th>
        <th ng-click="sort('location_id')">TripAdvisor locationId
          <span class="glyphicon sort-icon" ng-show="sortKey=='location_id'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
        </th>
        <th>Details</th>
        <th>Edit</th>
        <th>Status</th>
        <th>Saved Images</th>
        <!--<th>Update from Expedia</th>-->
      </tr>
      </thead>
      <tbody>
      <tr dir-paginate="hotel in hotels |orderBy:sortKey:reverse|filter:searchValue|itemsPerPage:50">
        <td>{{ hotel.id}}</td>
        <td>{{ hotel.name}}</td>
        <td>{{ hotel.address }}</td>
        <td>{{ hotel.city }}</td>
        <td>{{ hotel.star}}</td>
        <td>{{ hotel.location_id}}</td>
        <td>
          <button class="btn btn-primary" ng-click="editHotel(hotel.sequence,'show');toggleModal();">Show
          </button>
        </td>
        <td>
          <button class="btn" ng-click="editHotel(hotel.sequence,'edit');toggleModal();">
            <span class="glyphicon glyphicon-pencil"></span>&nbsp;&nbsp;Edit
          </button>
        </td>
        <td class="text-center">
          <button class="btn btn-success btn-sm statusBtn" ng-show="hotel.status"
                  ng-click="statusHotel(hotel.sequence)">
            Active
          </button>
          <button class="btn btn-danger btn-sm statusBtn" ng-hide="hotel.status" ng-click="statusHotel(hotel.sequence)">
            Deactive
          </button>
        </td>

        <td class="text-center">
          <button class="btn btn-success btn-sm statusBtn"
                  ng-click="showSavedImages(hotel.sequence)">
            Show
          </button>
        </td>

        <!--<td class="text-center">-->
          <!--<button class="btn btn-success btn-sm statusBtn"-->
                  <!--ng-click="updateFromExp(hotel.sequence)">-->
            <!--Auto Update-->
          <!--</button>-->
        <!--</td>-->
      </tr>
      </tbody>
    </table>
    <dir-pagination-controls
      max-size="20"
      direction-links="true"
      boundary-links="true" >
    </dir-pagination-controls>
  </div>

  <button  style="position:relative;z-index:20"  class="btn btn-success" ng-click="getMoreHotels();">
    <span class="glyphicon glyphicon-"></span> Get More Hotels
  </button>


  <modal title="Hotel Form" dikhao="showModal">

    <form class="form-horizontal" name="myForm">

      <div class="form-group">
        <label class="col-sm-3 control-label">Country:</label>

        <div class="col-sm-4">
          <!-- <input type="text" class="form-control" ng-model="activitiesController.country" placeholder="Country"> -->
          <select ng-disabled="act === 'update'" class="form-control" ng-model="hotelController.country"
                  ng-options="item.id as item.country for item in countries" ng-change="getActiveStatesByCountries(1)">
            <option value="">Select Country</option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-3 control-label">State:</label>

        <div class="col-sm-4">
          <!-- <input type="text" class="form-control" ng-model="activitiesController.state" placeholder="State"> -->
          <select ng-disabled="act === 'update'" class="form-control" ng-model="hotelController.state"
                  ng-options="item.id as item.state for item in states" ng-change="getActiveCitiesByStates(1)">
            <option value="">Select State</option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-3 control-label">City:<span style="color:red">*</span></label>

        <div class="col-sm-4">
          <!-- <input type="text" class="form-control" ng-model="activitiesController.city" placeholder="City"> -->
          <select ng-disabled="act === 'update'" class="form-control" ng-model="hotelController.city"
                  ng-options="item.id as item.city for item in cities">
            <option value="">Select City</option>
          </select>
        </div>
        <div class="col-sm-4">
          <span style="color:red" ng-show="(hotelController.city === null)">City is required</span>
        </div>
      </div>

      <div class="form-group">
        <!-- ng-class="{ 'has-error' : myForm.hotelName.$invalid && !myForm.hotelName.$pristine }"> -->
        <label class="col-sm-3 control-label">Hotel Name:<span style="color:red">*</span></label>

        <div class="col-sm-4">
          <input type="text" class="form-control" name="hotelName" ng-model="hotelController.hotelName"
                 placeholder="Hotel Name" ng-disabled="info">
        </div>
        <div class="col-sm-4">
          <span style="color:red" ng-show="(hotelController.hotelName === '')">Hotel name is required.</span>
        </div>
      </div>

      <div class="form-group">
        <label class="col-sm-3 control-label">Address:</label>

        <div class="col-sm-4">
          <!--<input type="text" class="form-control" ng-model="hotelController.address" placeholder="Address" ng-disabled="info">-->
          <textarea class="form-control" rows="2" ng-model="hotelController.address" placeholder="Address"
                    required></textarea>
        </div>
      </div>

      <div class="form-group">
        <label class="col-sm-3 control-label">Pincode:</label>

        <div class="col-sm-4">
          <input type="text" class="form-control" ng-model="hotelController.pincode" placeholder="Pincode"
                 ng-disabled="info">
        </div>
      </div>

      <div class="form-group">
        <label class="col-sm-3 control-label">Location:<span style="color:red">*</span></label>

        <div class="col-sm-4">
          <select class="form-control" ng-model="hotelController.location"
                  ng-options="item as item.name for item in googleLocations"
                  ng-change="onLocationSelected(hotelController.location)">
            <option value="">Select Option</option>
          </select>

          <input type="text" class="form-control" ng-model="hotelController.lat" placeholder="Latitude">
          <input type="text" class="form-control" ng-model="hotelController.long" placeholder="longitute">

        </div>
        <div class="col-sm-4">
          <button class="btn btn-success" ng-click="getGoogleLocation();">
            <span class="glyphicon glyphicon-"></span> Get Location
          </button>
        </div>



        <div class="col-sm-4" style="margin-top:10px"><span style="color:red" ng-show="(hotelController.lat === '')">Latitude is required.</span></div>
        <div class="col-sm-4" style="margin-top:10px"><span style="color:red" ng-show="(hotelController.long === '')">Longitude is required.</span></div>



      </div>

      <div class="form-group">
        <label class="col-sm-3 control-label">Trip Advisor Location:</label>

        <div class="col-sm-4">
          <select class="form-control" ng-model="hotelController.talocation"
                  ng-options="item.location_id as item.name for item in taLocations"
                  ng-disabled="hotelController.hideTA">
            <option value="">Select Option</option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <label class="col-sm-3 control-label">Trip Advisor Location id:</label>

        <div class="col-sm-4">
          <input type="text" class="form-control" ng-model="hotelController.talocation" placeholder="Type">
        </div>


      </div>

      <div class="form-group">
        <label class="col-sm-3 control-label">Star Rating:<span style="color:red">*</span></label>

        <div class="col-sm-4">
          <input type="number" class="form-control mod" ng-model="hotelController.star" placeholder="Star Rating"
                 ng-disabled="info">
        </div>
        <div class="col-sm-4">
          <span style="color:red" ng-show="(hotelController.star <= 0) && (hotelController.star !== null)">Star rating must be greater than 0.</span>
        </div>
      </div>

      <div class="form-group">
        <label class="col-sm-3 control-label">Checkin time:<span style="color:red">*</span></label>

        <div class="col-sm-4">
          <ng-time-selector hours="hotelController.checkinhours" minutes="hotelController.checkinminutes"
                            time="hotelController.checkin"></ng-time-selector>

          <!--<input type="time" class="form-control" ng-model="hotelController.checkin" placeholder="Checkin time"-->
                 <!--ng-disabled="info">-->
        </div>
        <div class="col-sm-4">
          <span style="color:red" ng-show="(hotelController.checkin === '')">Checkin time is required.</span>
        </div>
      </div>

      <div class="form-group">
        <label class="col-sm-3 control-label">Checkout time:<span style="color:red">*</span></label>

        <div class="col-sm-4">
          <ng-time-selector hours="hotelController.checkouthours" minutes="hotelController.checkoutminutes"
                            time="hotelController.checkout"></ng-time-selector>
          <!--<input type="time" class="form-control" ng-model="hotelController.checkout" placeholder="Checkout time"-->
                 <!--ng-disabled="info">-->
        </div>
        <div class="col-sm-4">
          <span style="color:red" ng-show="(hotelController.checkout === '')">Checkout time is required.</span>
        </div>
      </div>


      <div class="form-group">
        <label class="col-sm-3 control-label">Swimming Pool:</label>

        <div class="col-sm-4">
          <select class="form-control" ng-model="hotelController.swimmingPool" ng-disabled="info" required>

            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-3 control-label">Free Wifi:</label>

        <div class="col-sm-4">
          <select class="form-control" ng-model="hotelController.wifi" ng-disabled="info" required>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-3 control-label">Gym Available</label>

        <div class="col-sm-4">
          <select class="form-control" ng-model="hotelController.gym" ng-disabled="info" required>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-3 control-label">Restaurant Available:</label>

        <div class="col-sm-4">
          <select class="form-control" ng-model="hotelController.restaurant" ng-disabled="info" required>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <label class="col-sm-3 control-label">Elevator Available:</label>

        <div class="col-sm-4">
          <select class="form-control" ng-model="hotelController.elevator" ng-disabled="info" required>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <label class="col-sm-3 control-label">Close To Beach:</label>

        <div class="col-sm-4">
          <select class="form-control" ng-model="hotelController.close_to_beach" ng-disabled="info" required>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
        </div>
      </div>
      <hr>

      <!--<div class="form-group">-->
        <!--<label class="col-sm-3 control-label">Currency:</label>-->

        <!--<div class="col-sm-4">-->
          <!--&lt;!&ndash;<input type="text" class="form-control" ng-model="activitiesController.currency" placeholder="Type">&ndash;&gt;-->
          <!--<select class="form-control" ng-model="hotelController.currency"-->
                  <!--ng-options="item.name as item.name for item in currencies">-->
            <!--<option value="">Select Option</option>-->
          <!--</select>-->
        <!--</div>-->
      <!--</div>-->

      <!--<div class="form-group">-->
        <!--<label class="col-sm-3 control-label">Prices:</label>-->
      <!--</div>-->

      <!--<div class="form-group">-->
        <!--<div ng-repeat="room in roomTypes">-->
          <!--<div class="form-group">-->
            <!--<label class="col-sm-3 control-label">{{ room.name }}</label>-->

            <!--<div class="col-sm-4">-->
              <!--<input type="number" class="form-control mod" ng-model="hotelController.prices[$index]" placeholder="Price"-->
                     <!--ng-disabled="info">-->
            <!--</div>-->
          <!--</div>-->
        <!--</div>-->
      <!--</div>-->

      <!--<div class="form-group" ng-hide="newHotel">-->
        <!--<div ng-repeat="room in savedRoomTypes">-->
          <!--<div class="form-group">-->
            <!--<label class="col-sm-3 control-label">{{ room.name }}</label>-->

            <!--<div class="col-sm-4">-->
              <!--<input type="number" class="form-control" ng-model="hotelController.savedprices[$index]" placeholder="Price"-->
                     <!--ng-disabled="info">-->
            <!--</div>-->
          <!--</div>-->
        <!--</div>-->
      <!--</div>-->

      <!--<div class="form-group">-->
        <!--<label class="col-sm-3 control-label">Cover Image:<span style="color:red">*</span></label>-->

        <!--<div class="col-sm-6">-->
          <!--<input type="text" class="form-control" ng-model="hotelController.coverImage" placeholder="Cover Image">-->

          <!--<button ngf-select="selectFiles($file)"-->
                  <!--accept="image/*">Select File</button>-->

          <!--&nbsp;-->
          <!--<button class="btn btn-success" ng-click="uploadFiles()">Upload Image</button>-->
          <!--&nbsp;-->
          <!--<label class="col-sm-3 control-label">{{uploadedFile.name}}:</label>-->
        <!--</div>-->
        <!--<div class="col-sm-3">-->
          <!--<span style="color:red" ng-show="(hotelController.coverImage === '')">Cover image is required.</span>-->
        <!--</div>-->
      <!--</div>-->

      <div class="form-group">
        <label class="col-sm-3 control-label">Contact number:</label>

        <div class="col-sm-6">
          <input type="text" class="form-control" ng-model="hotelController.contactNumber" placeholder="Contact number">
        </div>
      </div>

      <div class="form-group">
        <label class="col-sm-3 control-label">Email:</label>

        <div class="col-sm-6">
          <input type="text" class="form-control" ng-model="hotelController.email" placeholder="Email">
        </div>
      </div>

      <div class="form-group">
        <label class="col-sm-3 control-label">Website link:</label>

        <div class="col-sm-6">
          <input type="text" class="form-control" ng-model="hotelController.website" placeholder="Website Link">
        </div>
      </div>

      <div class="form-group">
        <label class="col-sm-3 control-label">Description:<span style="color:red">*</span></label>

        <div class="col-sm-6">
          <!--<input type="text" class="form-control" ng-model="activitiesController.description" placeholder="Description" aria-multiline="true">-->
          <textarea class="form-control" rows="10" ng-model="hotelController.description" placeholder="Description"></textarea>
        </div>
        <div class="col-sm-3">

          <span style="color:red" ng-show="(hotelController.description === '')">Description is required.</span>
        </div>
      </div>

      <div class="form-group">
        <label class="col-sm-3 control-label">Hotel Policies:</label>

        <div class="col-sm-6">
          <!--<input type="text" class="form-control" ng-model="activitiesController.description" placeholder="Description" aria-multiline="true">-->
          <textarea class="form-control" rows="10" ng-model="hotelController.policies" placeholder="Hotel Policies"
                    required></textarea>
        </div>
      </div>

      <div class="form-group">
        <label class="col-sm-3 control-label">Checkin instructions:</label>

        <div class="col-sm-6">
          <!--<input type="text" class="form-control" ng-model="activitiesController.description" placeholder="Description" aria-multiline="true">-->
          <textarea class="form-control" rows="10" ng-model="hotelController.instructions" placeholder="Checkin instructions"
                    required></textarea>
        </div>
      </div>

    </form>

    <hr>
    <button class="btn btn-primary" ng-click="saveHotel()" ng-disabled="(hotelController.hotelName === '')
    || (hotelController.hotelName === null)
      || (hotelController.city === '') || (hotelController.city === null)
      || (hotelController.lat === '') || (hotelController.lat === null)
    || (hotelController.long === '') || (hotelController.long === null)
     || (hotelController.star <= 0) || (hotelController.star === null) || hotelController.isnan()
     || (hotelController.checkin === '') || (hotelController.checkin === null)
     || (hotelController.checkout === '') || (hotelController.checkout === null)
     || (hotelController.description === '') || (hotelController.description === null)" ng-hide="info">
      <span class="glyphicon glyphicon-save"></span> Save Changes
    </button>
    <button class="btn" ng-click="editHotel(hotel.id,'edit');toggleModal();" ng-show="info">
    <span class="glyphicon glyphicon-pencil"></span>&nbsp;&nbsp;Edit
  </button>

    <!--<button class="btn btn-success" ng-click="toggleModal();redirect();">-->
      <!--<span class="glyphicon glyphicon-save"></span> Get Images-->
    <!--</button>-->
  </modal>
</div>
